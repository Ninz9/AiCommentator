<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.ninz9.ideaplugin</id>
    <name>IdeaPlugin</name>
    <vendor>ninz9</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>
    <depends>com.intellij.java</depends>
    <depends>org.jetbrains.kotlin</depends>

    <resource-bundle>messages.AiCommentatorBundle</resource-bundle>

    <actions>

        <group id="com.github.ninz9.ideaplugin.group.actions"
               class="com.intellij.openapi.actionSystem.DefaultActionGroup"
               text="Ai Commentator"
               popup="true">
            <action class="com.github.ninz9.ideaplugin.actions.CreateCommentForClass" id="CreateCommentForClass"
                    text="Create Comment for Class"/>
            <action class="com.github.ninz9.ideaplugin.actions.CreateCommentForClassStream"
                    id="CreateCommentForClassStream" text="Create Comment for Class (Stream)"/>
            <action class="com.github.ninz9.ideaplugin.actions.CreateCommentForFunction"
                    id="CreateCommentForMethod"
                    text="Generate Comment for Method"/>
            <action class="com.github.ninz9.ideaplugin.actions.CreateCommentForMethodStream"
                    id="CreateCommentForMethodStream" text="Create Comment for Method (Stream)"/>
            <separator/>
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
        </group>

    </actions>


    <extensions defaultExtensionNs="com.intellij">

        <applicationService serviceImplementation="com.github.ninz9.ideaplugin.configuration.PluginSettings"/>
        <applicationService
                serviceImplementation="com.github.ninz9.ideaplugin.configuration.modelConfigurations.openAI.OpenAISetting"/>
        <applicationService
                serviceImplementation="com.github.ninz9.ideaplugin.configuration.modelConfigurations.anthropic.AnthropicSetting"/>

        <applicationConfigurable
                parentId="tools"
                instance="com.github.ninz9.ideaplugin.configuration.PluginConfigurable"
                id="com.github.ninz9.ideaplugin.setting.ProjectSettingsConfigurable"
                key="settings.title"
                name="AI Commentator"
                nonDefaultProject="true"/>
        <applicationConfigurable
                parentId="com.github.ninz9.ideaplugin.setting.ProjectSettingsConfigurable"
                instance="com.github.ninz9.ideaplugin.configuration.modelConfigurations.openAI.OpenAIConfigurable"
                id="com.github.ninz9.ideaplugin.setting.modelConfigurations.openai.OpenAIConfigurable"
                name="OpenAI"
                key="settings.openAi.title"
                nonDefaultProject="true"/>
        <applicationConfigurable
                parentId="com.github.ninz9.ideaplugin.setting.ProjectSettingsConfigurable"
                instance="com.github.ninz9.ideaplugin.configuration.modelConfigurations.anthropic.AnthropicConfigurable"
                id="com.github.ninz9.ideaplugin.setting.modelConfigurations.anthropic.AnthropicConfigurable"
                name="Anthropic"
                key="settings.anthropic.title"
                nonDefaultProject="true"/>
        <notificationGroup displayType="BALLOON" id="ai.commentator.notification"/>

    </extensions>

    <!--    <applicationListeners>-->
    <!--        <listener class="com.github.ninz9.ideaplugin.listeners.MyApplicationActivationListener" topic="com.intellij.openapi.application.ApplicationActivationListener"/>-->
    <!--    </applicationListeners>-->
</idea-plugin>
